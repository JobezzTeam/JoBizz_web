{"ast":null,"code":"var _jsxFileName = \"/Users/chirab/Desktop/EIP_JoBizz/WebApplication/front/src/component/UserPage.js\";\nimport React, { Component, useState, useRef, useEffect } from 'react';\nimport { Map, GoogleApiWrapper, Marker, Polygon, InfoWindow } from 'google-maps-react';\nimport { usePosition } from 'use-position';\nimport GoogleMapReact from 'google-map-react';\nimport { MDBCard, MDBCardTitle, MDBCardText, MDBContainer } from \"mdbreact\";\nimport \"./Style/UserPage.css\";\nimport jwtDecode from 'jwt-decode';\nimport { MDBBtn } from \"mdbreact\";\nimport data from './example.json';\n\nconst Marker1 = props => {\n  const title = props.title,\n        price = props.price,\n        description = props.description,\n        time = props.time;\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      border: \"5px solid white\",\n      borderRadius: 20,\n      height: 20,\n      width: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }), props.show && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(MDBContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(MDBCard, {\n    className: \"card-body\",\n    style: {\n      width: \"22rem\",\n      marginTop: \"1rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(MDBCardTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, title), React.createElement(MDBCardText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, description), React.createElement(\"div\", {\n    className: \"flex-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, price), React.createElement(\"p\", {\n    style: {\n      marginLeft: \"1.25rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, time))))));\n};\n\nconst Perso = props => {\n  const color = props.color,\n        name = props.name,\n        id = props.id;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pin bounce\",\n    style: {\n      backgroundColor: color,\n      cursor: 'pointer'\n    },\n    title: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"pulse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }));\n};\n\nexport class UserPage extends Component {\n  constructor(_props) {\n    super(_props);\n\n    this.displayMarkers = () => {\n      return this.state.stores.map((store, index) => {\n        return React.createElement(Marker, {\n          key: index,\n          id: index,\n          position: {\n            lat: store.latitude,\n            lng: store.longitude\n          },\n          onClick: () => console.log(\"You clicked me!\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        });\n      });\n    };\n\n    this.onMarkerClick = (props, marker, e) => this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true\n    });\n\n    this.onClose = props => {\n      if (this.state.showingInfoWindow) {\n        this.setState({\n          showingInfoWindow: false,\n          activeMarker: null\n        });\n      }\n    };\n\n    this.state = {\n      nom: '',\n      prenom: '',\n      latMe: '',\n      lonMe: '',\n      name: '',\n      exlat: '',\n      exlon: '',\n      showingInfoWindow: false,\n      //Hides or the shows the infoWindow\n      activeMarker: {},\n      //Shows the active marker upon click\n      selectedPlace: {},\n      //Shows the infoWindow to the selected place upon a marker\n      stores: [{\n        lat: 47.49855629475769,\n        lng: -122.14184416996333\n      }, {\n        latitude: 47.359423,\n        longitude: -122.021071\n      }, {\n        latitude: 47.2052192687988,\n        longitude: -121.988426208496\n      }, {\n        latitude: 47.6307081,\n        longitude: -122.1434325\n      }, {\n        latitude: 47.3084488,\n        longitude: -122.2140121\n      }, {\n        latitude: 47.5524695,\n        longitude: -122.0425407\n      }]\n    };\n    this.logout = this.logout.bind(this);\n    this.onMarkerClick = this.onMarkerClick.bind(this);\n    this.onClose = this.onClose.bind(this);\n  }\n\n  logout(e) {\n    e.preventDefault();\n    localStorage.removeItem('token');\n    this.props.history.push('/');\n  }\n\n  componentDidMount() {\n    const tokken = localStorage.token;\n    const decode = jwtDecode(tokken);\n    fetch(\"http://localhost:4000/annonce/getJob\").then(response => response.json()).then(res => {\n      console.log(res);\n      this.setState({\n        exlat: res[0].lat,\n        exlon: res[0].lon,\n        name: res[0].title\n      });\n      console.log(res[0].lat);\n      console.log(res[0].lon);\n    });\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(location => {\n        this.setState({\n          latMe: location.coords.latitude,\n          lonMe: location.coords.longitude\n        });\n      });\n    }\n\n    this.setState({\n      prenom: decode.prenom,\n      nom: decode.nom\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"viewport\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Bienvenue \", this.state.nom))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      style: {\n        color: \"white\"\n      },\n      type: \"button\",\n      class: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \" Compte\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      style: {\n        color: \"white\"\n      },\n      type: \"button\",\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \" Contrat\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      style: {\n        color: \"white\"\n      },\n      type: \"button\",\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \" travaux effectu\\xE9\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      style: {\n        color: \"white\"\n      },\n      type: \"button\",\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \" Param\\xE8tre\"), React.createElement(MDBBtn, {\n      style: {\n        color: \"white\"\n      },\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Logout\"))), React.createElement(\"div\", {\n      style: {\n        height: '100vh',\n        width: '125%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"map\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(GoogleMapReact, {\n      bootstrapURLKeys: {\n        key: 'AIzaSyDW41KMRzwFp4m7Uht_53PiPHv0LSqXq5Y'\n      },\n      defaultCenter: {\n        lat: 48.8322,\n        lng: 2.3561\n      },\n      defaultZoom: 14,\n      onChildClick: this._onChildClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \">\", React.createElement(Perso, {\n      lat: this.state.latMe,\n      lng: this.state.lonMe,\n      text: \"My Marker\",\n      color: \"blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(Marker1, {\n      lat: this.state.exlat,\n      lng: this.state.exlon,\n      color: \"red\",\n      show: this.state.show,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }))))));\n  }\n\n}\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyDW41KMRzwFp4m7Uht_53PiPHv0LSqXq5Y'\n})(UserPage);","map":{"version":3,"sources":["/Users/chirab/Desktop/EIP_JoBizz/WebApplication/front/src/component/UserPage.js"],"names":["React","Component","useState","useRef","useEffect","Map","GoogleApiWrapper","Marker","Polygon","InfoWindow","usePosition","GoogleMapReact","MDBCard","MDBCardTitle","MDBCardText","MDBContainer","jwtDecode","MDBBtn","data","Marker1","props","title","price","description","time","border","borderRadius","height","width","show","marginTop","marginLeft","Perso","color","name","id","backgroundColor","cursor","UserPage","constructor","displayMarkers","state","stores","map","store","index","lat","latitude","lng","longitude","console","log","onMarkerClick","marker","e","setState","selectedPlace","activeMarker","showingInfoWindow","onClose","nom","prenom","latMe","lonMe","exlat","exlon","logout","bind","preventDefault","localStorage","removeItem","history","push","componentDidMount","tokken","token","decode","fetch","then","response","json","res","lon","navigator","geolocation","getCurrentPosition","location","coords","render","key","_onChildClick","apiKey"],"mappings":"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","sourcesContent":["import React, { Component, useState, useRef, useEffect } from 'react'\nimport { Map, GoogleApiWrapper, Marker, Polygon, InfoWindow } from 'google-maps-react';\nimport { usePosition } from 'use-position';\nimport GoogleMapReact from 'google-map-react';\nimport { MDBCard, MDBCardTitle, MDBCardText, MDBContainer } from \"mdbreact\";\nimport \"./Style/UserPage.css\"\nimport jwtDecode from 'jwt-decode'\nimport {MDBBtn} from \"mdbreact\"\nimport data from './example.json'\n\nconst Marker1 = (props) => {\n    const {title, price, description, time} = props;\n    return (\n        <React.Fragment>\n            <div\n                style={{\n                    border: \"5px solid white\",\n                    borderRadius: 20,\n                    height: 20,\n                    width: 20\n                }}\n            />\n            {/* Below is info window component */}\n            {props.show && (\n                <div>\n                    <MDBContainer>\n                        <MDBCard className=\"card-body\" style={{width: \"22rem\", marginTop: \"1rem\"}}>\n                            <MDBCardTitle>{title}</MDBCardTitle>\n                            <MDBCardText>\n                                {description}\n                            </MDBCardText>\n                            <div className=\"flex-row\">\n                                <p>{price}</p>\n                                <p style={{marginLeft: \"1.25rem\"}}>{time}</p>\n                            </div>\n                        </MDBCard>\n                    </MDBContainer>\n                </div>\n            )}\n        </React.Fragment>\n    )\n}\n\n\nconst Perso = (props: any) => {\n    const { color, name, id } = props;\n    return (\n        <div>\n            <div\n                className=\"pin bounce\"\n                style={{ backgroundColor: color, cursor: 'pointer' }}\n                title={name}\n            />\n            <div className=\"pulse\" />\n        </div>\n    );\n};\n\nexport class UserPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            nom: '',\n            prenom: '',\n            latMe: '',\n            lonMe: '',\n            name:'',\n            exlat: '',\n            exlon: '',\n            showingInfoWindow: false,  //Hides or the shows the infoWindow\n            activeMarker: {},          //Shows the active marker upon click\n            selectedPlace: {},         //Shows the infoWindow to the selected place upon a marker\n            stores: [{lat: 47.49855629475769, lng: -122.14184416996333},\n              {latitude: 47.359423, longitude: -122.021071},\n              {latitude: 47.2052192687988, longitude: -121.988426208496},\n              {latitude: 47.6307081, longitude: -122.1434325},\n              {latitude: 47.3084488, longitude: -122.2140121},\n              {latitude: 47.5524695, longitude: -122.0425407}]\n        };\n        this.logout = this.logout.bind(this);\n        this.onMarkerClick = this.onMarkerClick.bind(this);\n        this.onClose = this.onClose.bind(this);\n    }\n\n\n    displayMarkers = () => {\n      return this.state.stores.map((store, index) => {\n        return <Marker key={index} id={index} position={{\n            lat: store.latitude,\n            lng: store.longitude\n    }}\n    onClick={() => console.log(\"You clicked me!\")} />\n   })\n }\n\n    logout(e) {\n        e.preventDefault();\n        localStorage.removeItem('token');\n        this.props.history.push('/');\n    }\n\n    componentDidMount() {\n        const tokken = localStorage.token;\n        const decode = jwtDecode(tokken);\n\n        fetch(\"http://localhost:4000/annonce/getJob\")\n        .then(response => response.json())\n            .then((res) => {\n                console.log(res);\n                this.setState({\n                    exlat : res[0].lat,\n                    exlon : res[0].lon,\n                    name : res[0].title\n                })\n                console.log(res[0].lat);\n                console.log(res[0].lon);\n\n            })\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(location => {\n                this.setState({\n                    latMe: location.coords.latitude,\n                    lonMe: location.coords.longitude\n                })\n\n            });\n        }\n        this.setState({\n            prenom : decode.prenom,\n            nom : decode.nom\n        })\n    }\n\n    onMarkerClick = (props, marker, e) =>\n        this.setState({\n            selectedPlace: props,\n            activeMarker: marker,\n            showingInfoWindow: true\n        });\n\n    onClose = props => {\n        if (this.state.showingInfoWindow) {\n            this.setState({\n                showingInfoWindow: false,\n                activeMarker: null\n            });\n        }\n    };\n\n    render() {\n        return (\n            <div className=\"main\">\n                <div id=\"viewport\">\n                    <div id=\"sidebar\">\n                        <header>\n                            <p style={{color: \"white\"}}><strong>Bienvenue {this.state.nom}</strong></p>\n                        </header>\n                        <div>\n                            <ul style={{color: \"white\"}} type=\"button\" class=\"list-group\"> Compte</ul>\n                            <br/>\n                            <ul style={{color: \"white\"}} type=\"button\" className=\"list-group\"> Contrat</ul>\n                            <br/>\n                            <ul style={{color: \"white\"}} type=\"button\" className=\"list-group\"> travaux effectué</ul>\n                            <br/>\n                            <ul style={{color: \"white\"}} type=\"button\" className=\"list-group\"> Paramètre</ul>\n                            <MDBBtn style={{color: \"white\"}} onClick={this.logout}>Logout</MDBBtn>\n                        </div>\n                    </div>\n                    <div style={{ height: '100vh', width: '125%' }}>\n                        <div className=\"map\">\n                            <GoogleMapReact\n                                bootstrapURLKeys={{ key: 'AIzaSyDW41KMRzwFp4m7Uht_53PiPHv0LSqXq5Y' }}\n                                defaultCenter={{lat: 48.8322, lng: 2.3561}}\n                                defaultZoom={14}\n                                onChildClick={this._onChildClick}>\n                            >\n                                <Perso\n                                    lat={this.state.latMe}\n                                    lng={this.state.lonMe}\n                                    text=\"My Marker\"\n                                    color=\"blue\"\n                                />\n                                <Marker1\n                                    lat={this.state.exlat}\n                                    lng={this.state.exlon}\n                                    color=\"red\"\n                                    show={this.state.show}\n                                />\n                            </GoogleMapReact>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nexport default GoogleApiWrapper({\n    apiKey: 'AIzaSyDW41KMRzwFp4m7Uht_53PiPHv0LSqXq5Y'\n})(UserPage);\n"]},"metadata":{},"sourceType":"module"}